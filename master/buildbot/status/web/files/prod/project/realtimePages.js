define(["jquery"],function(e){var t;return t={buildDetail:function(t){function r(e){var t=new Date(e*1e3),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=t.getFullYear(),i=n[t.getMonth()],s=t.getDate(),o=t.getHours(),u=t.getMinutes(),a=t.getSeconds(),f=s+","+i+" "+r+" "+o+":"+u+":"+a;return f}function i(e,t){var n=e-t,r=Math.round(n);return r}var n=e(".step-list > li");try{var s=JSON.parse(t),o=[],u=[],a=[],f=[],l=[],c="",h="";e.each(s,function(t,n){c=this.times[0],h=this.times[1],e(this.steps).each(function(){this.hidden||(this.times&&o.push(this.times),this.text&&u.push(this.text.join(" ")),this.isFinished&&a.push(this.isFinished),this.logs&&f.push(this.logs))})}),e(n).each(function(t){a[t]&&(e(".update-time-js",this).html(i(o[t][1],o[t][0])+" secs"),e(".s-text-js",this).html(u[t]),e(".s-logs-js a",this).text(f[t][0][0]),e(".s-logs-js a",this).attr("href",f[t][0][1]))}),e(".start-time-js").text(r(c)),e(".end-time-js").text(r(h)),e(".elapsed-time-js").text(i(h,c))}catch(p){}},frontPage:function(t){function n(t){var n=0;return e.each(t,function(){n+=parseFloat(this)||0}),n}try{var r=JSON.parse(t),i=[];e.each(r.builders,function(e,n){console.log(t),i.push(n.pendingBuilds)}),e("#pendingBuilds").html(n(i));var s=[];e.each(r.slaves,function(e){s.push(e)}),e("#slavesNr").html(s.length)}catch(o){}}},t});