define(["datatables-plugin","helpers","text!templates/popups.html","text!templates/buildqueue.html","mustache"],function(e,t,n,r,i){var s;return s={init:function(){var e=$(".tablesorter-js"),s=[];e.each(function(e){var o=[],u={bPaginate:!1,bLengthChange:!1,bFilter:!1,bSort:!0,bInfo:!1,bAutoWidth:!1,sDom:'<"table-wrapper"t>',bRetrieve:!0,asSorting:!0,bServerSide:!1,bSearchable:!0,aaSorting:[],iDisplayLength:50,bStateSave:!0};$(this).hasClass("input-js")&&(u.bFilter=!0,u.oLanguage={sSearch:""},u.sDom='<"top"flip><"table-wrapper"t><"bottom"pi>'),$("> thead th",this).each(function(e){$(this).hasClass("no-tablesorter-js")?o.push({bSortable:!1}):o.push(null)});if($(this).hasClass("buildqueue-table")){var a=i.render(n,{preloader:"true"});$("body").append(a),u.aaSorting=[[2,"asc"]],u.aoColumns=[{mData:"builderName"},{mData:"sources"},{mData:"reason"},{mData:"slaves"},{mData:"brid",bSortable:!1}],u.aaData=s,u.aoColumnDefs=[{sClass:"txt-align-left",aTargets:[0]},{aTargets:[1],sClass:"txt-align-left",mRender:function(e,t,n){var s=n.sources.length,o=i.render(r,{showsources:!0,sources:n.sources,codebase:n.codebase,sourcesLength:s});return o}},{aTargets:[2],sClass:"txt-align-left",mRender:function(e,n,s){var o=moment.unix(s.submittedAt).format("MMMM Do YYYY, H:mm:ss"),u=t.getTime(s.submittedAt,null),a=i.render(r,{reason:s.reason,requested:o,submittedAt:s.submittedAt});return a},fnCreatedCell:function(e,n,r,i,s){t.startCounter($(e).find(".waiting-time"),r.submittedAt)}},{aTargets:[3],sClass:"txt-align-right",mRender:function(e,t,n){var s=n.slaves.length,o=i.render(r,{showslaves:!0,slaves:e,slavelength:s});return o}},{aTargets:[4],sClass:"select-input",mRender:function(e,t,n){var s=i.render(r,{input:"true",brid:n.brid});return s}}]}else u.aoColumns=o;$(this).hasClass("tools-js")&&(u.bPaginate=!0,u.bLengthChange=!0,u.bInfo=!0,u.bFilter=!0,u.oLanguage={sSearch:"",sLengthMenu:'Entries per page<select><option value="10">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option><option value="-1">All</option></select>'},u.sDom='<"top"flip><"table-wrapper"t><"bottom"pi>');var f=$(this).dataTable(u),l=$(".dataTables_filter input");$("#builders_page").length&&window.location.search!=""&&t.codeBaseBranchOverview(),l.attr("placeholder","Filter results").focus()})}},s});