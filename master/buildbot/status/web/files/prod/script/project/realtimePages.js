define(["jquery"],function(e){var t;return t={buildDetail:function(t,n){function i(e){var t=new Date(e*1e3),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=t.getFullYear(),i=n[t.getMonth()],s=t.getDate(),o=t.getHours(),u=t.getMinutes(),a=t.getSeconds(),f=s+","+i+" "+r+" "+o+":"+u+":"+a;return f}function s(e,t){var n=e-t,r=Math.round(n);return r}var r=e(".step-list > li");try{var o=JSON.parse(t),u=[],a=[],f=[],l=[],c=[],h="",p="";e.each(o,function(t,n){h=this.times[0],p=this.times[1],e(this.steps).each(function(){this.hidden||(this.times&&u.push(this.times),this.text&&a.push(this.text.join(" ")),this.isFinished&&f.push(this.isFinished),this.logs&&l.push(this.logs))})}),e(".start-time-js").text(i(h)),e(".end-time-js").text(i(p)),e(".elapsed-time-js").text(s(p,h)),e(r).each(function(t){f[t]&&(e(".update-time-js",this).html(s(u[t][1],u[t][0])+" secs"),e(".s-text-js",this).html(a[t]),e(".s-logs-js a",this).text(l[t][0][0]),e(".s-logs-js a",this).attr("href",l[t][0][1]))})}catch(d){}},frontPage:function(t){function n(t){var n=0;return e.each(t,function(){n+=parseFloat(this)||0}),n}try{var r=JSON.parse(t),i=[];e.each(r.builders,function(e,n){console.log(t),i.push(n.pendingBuilds)}),e("#pendingBuilds").html(n(i));var s=[];e.each(r.slaves,function(e){s.push(e)}),e("#slavesNr").html(s.length)}catch(o){}}},t});