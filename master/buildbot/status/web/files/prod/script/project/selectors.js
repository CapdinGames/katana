define(["select2"],function(){var e;return e={init:function(){var t=$("select.select-tools-js").select2({width:e.getMaxChildWidth(".select-tools-js"),minimumResultsForSearch:10});$("select.select-tools-js, #commonBranch_select").on("select2-open",function(){e.clickSort()}),e.comboBox($(".select-tools-js")),$("#commonBranch_select").select2({width:e.getMaxChildWidth("#commonBranch_select"),placeholder:"Select a common branch"}),$("#commonBranch_select,.select-tools-js").on("select2-close",function(){$(".sort-name").unbind("click")})},getMaxChildWidth:function(e){var t=80;return $(e).each(function(){var e=$(this).width();console.log(e),e>t&&(t=e+30)}),t},comboBox:function(e){var t={};$("option",e).each(function(){var e=$(this).text();t[e]==null?t[e]=!0:$(this).clone().prop("selected",!1).appendTo($("#commonBranch_select"))});var n={};$("#commonBranch_select option").each(function(){var e=$(this).text();n[e]==null?n[e]=!0:$(this).remove()}),$("#commonBranch_select").on("change",function(){var t=$(this);$("option",e).each(function(){$(this).val()===$(t).val()&&($(this).parent().children("option").prop("selected",!1),$(this).prop("selected",!0))}),e.trigger("change")})},clickSort:function(){var e=$("#select2-drop"),t=e.children(".select2-results"),n=e.children(".sort-name");n.bind("click",function(e){e.preventDefault(),n.toggleClass("direction-up"),t.children("li").sort(function(e,t){var r=$(e).text().toUpperCase(),i=$(t).text().toUpperCase();return n.hasClass("direction-up")?r>i?-1:r<i?1:0:r<i?-1:r>i?1:0}).appendTo(t),t.prop({scrollTop:0})})}},e});