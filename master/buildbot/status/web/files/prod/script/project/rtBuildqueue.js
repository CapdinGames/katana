define(["jquery","realtimePages","helpers","dataTables","mustache","text!templates/buildqueue.mustache"],function(e,t,n,r,i,s){var o=undefined,u;return u={init:function(){o=u.dataTableInit();var e=t.defaultRealtimeFunctions();e.queue=u.processBuildQueue,t.initRealtime(e)},processBuildQueue:function(e){o.fnClearTable();try{o.fnAddData(e)}catch(t){}},dataTableInit:function(){var t={};return t.aaSorting=[[2,"asc"]],t.aoColumns=[{mData:"builderFriendlyName"},{mData:"sources"},{mData:"reason"},{mData:"slaves"},{mData:"brid"}],t.aoColumnDefs=[{sClass:"txt-align-left",aTargets:[0]},{aTargets:[1],sClass:"txt-align-left",mRender:function(e,t,n){var r=n.sources.length;return i.render(s,{showsources:!0,sources:n.sources,codebase:n.codebase,sourcesLength:r})},fnCreatedCell:function(t,n,r){e(t).find("a.popup-btn-json-js").data({showCodebases:r})}},{aTargets:[2],sClass:"txt-align-left",mRender:function(e,t,n){var r=moment.unix(n.submittedAt).format("MMMM Do YYYY, H:mm:ss");return i.render(s,{reason:n.reason,requested:r,submittedAt:n.submittedAt})},fnCreatedCell:function(t,r,i){n.startCounter(e(t).find(".waiting-time"),i.submittedAt)}},{aTargets:[3],sClass:"txt-align-right",mRender:function(e,t,n){var r=n.slaves.length;return i.render(s,{showslaves:!0,slaves:e,slavelength:r})},fnCreatedCell:function(t,n,r){e(t).find("a.popup-btn-json-js").data({showcompatibleSlaves:r})}},{aTargets:[4],sClass:"select-input",mRender:function(e,t,n){return i.render(s,{input:"true",brid:n.brid})}}],r.initTable(e(".buildqueue-table"),t)}},u});