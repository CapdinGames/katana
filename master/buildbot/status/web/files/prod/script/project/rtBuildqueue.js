define(["jquery","realtimePages","helpers"],function(e,t,n){var r;return r={init:function(){function o(e){sock&&sock.send(e)}function u(e){t.rtBuildqueue(e)}window.sock=null;var r,i=e("body").attr("data-realTimeServer");r=i;var s=e(".tablesorter-js").dataTable();console.log(e("body").attr("data-realTimeServer")),"WebSocket"in window?sock=new WebSocket(r):"MozWebSocket"in window?sock=new MozWebSocket(r):(u("Browser does not support WebSocket!"),window.location="http://autobahn.ws/unsupportedbrowser"),sock&&(sock.onopen=function(){console.log(n.getJsonUrl()),o(n.getJsonUrl()),u("Connected to "+r)},sock.onclose=function(e){u("Connection closed (wasClean = "+e.wasClean+", code = "+e.code+", reason = '"+e.reason+"')"),sock=null,console.log("closed")},sock.onmessage=function(t){e("#bowlG").remove(),u(t.data)})}},r});