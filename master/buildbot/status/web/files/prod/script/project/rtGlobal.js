define(["jquery","helpers","dataTables","extend-moment","toastr"],function(e,t,a,i,n){var s=e("#buildQueueTotal"),r=e("#buildSlavesTotal"),o=e("#verticalProgressBar"),l=e("#buildLoad"),u=l.find("span"),d=e("#attentionBox"),b={init:function(){requirejs(["realtimePages"],function(e){b.initDataTable();var t=e.defaultRealtimeFunctions();e.initRealtime(t)})},processGlobalInfo:function(e){i.setServerTime(e.utc),t.isRealTimePage()===!1&&d.addClass("show-desktop");var a=e.build_load;s.show(),r.show(),o.show();var b=100>=a?"green":a>=101&&200>=a?"yellow":"red";l.attr({"class":"info-box "+b}).show();var c=e.slaves_count,v=e.slaves_busy/c*100,f=c-e.slaves_busy,h=e.running_builds;t.verticalProgressBar(o.children(),v),o.attr("title","{0} builds are running, {1}, agents are idle".format(h,f)),r.text(c),u.text(a),n.options={closeButton:!0,timeOut:5e3,extendedTimeOut:0,hideDuration:300}},initDataTable:function(){var t=void 0;t=e(e(".tablesorter-js").length?".tablesorter-js":"#tablesorterRt"),e.each(t,function(t,i){a.initTable(e(i),{})})}};return b});
//# sourceMappingURL=rtGlobal.js.map