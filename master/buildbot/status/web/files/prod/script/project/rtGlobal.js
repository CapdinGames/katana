define(["jquery","helpers","dataTables"],function(e,t,n){var r=e("#buildQueueTotal"),i=e("#buildSlavesTotal"),s=e("#verticalProgressBar"),o=e("#buildLoad"),u=o.find("span"),a=e("#attentionBox"),f={init:function(){requirejs(["realtimePages"],function(e){f.initDataTable();var t=e.defaultRealtimeFunctions();e.initRealtime(t)})},processGlobalInfo:function(e){t.isRealTimePage()===!1&&a.removeClass("hide").addClass("show");var n=e.build_load;r.show(),i.show(),s.show();var f=n<=100?"green":n>=101&&n<=200?"yellow":"red";o.attr({"class":"info-box show "+f});var l=e.slaves_count,c=e.slaves_busy/l*100,h=l-e.slaves_busy,p=e.running_builds;t.verticalProgressBar(s.children(),c),s.attr("title","{0} builds are running, {1}, agents are idle".format(p,h)),i.text(l),u.text(n)},initDataTable:function(){var t=undefined;e(".tablesorter-js").length?t=e(".tablesorter-js"):t=e("#tablesorterRt"),e.each(t,function(t,r){n.initTable(e(r),{})})}};return f});