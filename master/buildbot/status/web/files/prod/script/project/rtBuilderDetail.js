define(["jquery","realtimePages","helpers","dataTables","handlebars","extend-moment","libs/jquery.form","text!templates/builderdetail.handlebars","timeElements"],function(e,t,n,r,i,s,o,u,a){var f,l,c,h,p=Handlebars.compile(u);return f={init:function(){c=f.currentBuildsTableInit(e("#rtCurrentBuildsTable")),h=f.pendingBuildsTableInit(e("#rtPendingBuildsTable"));var r=t.defaultRealtimeFunctions();r.project=f.rtfProcessCurrentBuilds,r.pending_builds=f.rtfProcessPendingBuilds,t.initRealtime(r);var i=e(".dataTables_wrapper .top");window.location.search!==""&&n.codeBaseBranchOverview(e("#brancOverViewCont"))},rtfProcessCurrentBuilds:function(e){a.clearTimeObjects(c),c.fnClearTable();try{console.log(e),e.currentBuilds!==undefined&&(c.fnAddData(e.currentBuilds),a.updateTimeObjects()),a.updateTimeObjects()}catch(t){console.log(t)}},rtfProcessPendingBuilds:function(e){a.clearTimeObjects(h),h.fnClearTable(),n.selectBuildsAction(h);try{console.log(e),h.fnAddData(e),a.updateTimeObjects()}catch(t){}},currentBuildsTableInit:function(t){var i={};return i.aoColumns=[{mData:null},{mData:null},{mData:null},{mData:null}],i.aoColumnDefs=[{aTargets:[0],sClass:"txt-align-left",mRender:function(e,t,n){return p({showNumber:!0,data:n})}},{aTargets:[1],sClass:"txt-align-left",mRender:function(t,n,r){var i={showRunningBuilds:!0},s=e.extend(i,r);return p(s)},fnCreatedCell:function(t,r,i){n.delegateToProgressBar(e(t).find(".percent-outer-js"))}},{aTargets:[2],sClass:"txt-align-left",mRender:function(e,t,n){return p({currentBuildRevision:!0,data:n})}},{aTargets:[3],sClass:"txt-align-left",mRender:function(t,n,r){var i="N/A";return e.each(r.properties,function(e,t){t[0]==="owner"&&(i=t[1])}),i}}],r.initTable(t,i)},pendingBuildsTableInit:function(t){var n={};return n.aoColumns=[{mData:null},{mData:null},{mData:null}],n.aoColumnDefs=[{aTargets:[0],sClass:"txt-align-left",mRender:function(e,t,n){return s.getDateFormatted(n.submittedAt)}},{aTargets:[1],sClass:"txt-align-left",mRender:function(e,t,n){return p({pendingBuildWait:!0})},fnCreatedCell:function(t,n,r){a.addElapsedElem(e(t).find(".waiting-time-js"),r.submittedAt)}},{aTargets:[2],sClass:"txt-align-right",mRender:function(e,t,n){return p({removeBuildSelector:!0,data:n})}}],r.initTable(t,n)}},f});