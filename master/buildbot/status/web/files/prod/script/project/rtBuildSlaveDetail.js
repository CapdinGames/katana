define(["jquery","realtimePages","helpers","dataTables","handlebars","extend-moment","libs/jquery.form","text!templates/builderdetail.handlebars","text!hbCells","timeElements","rtGenericTable","popup"],function(e,t,n,r,i,s,o,u,a,f,l,c){var h=Handlebars.compile(a),p,d,v,m=Handlebars.compile(u),g={initCancelBuild:function(){d.delegate("[data-cancel-url]","click",function(t){e.ajax(e(this).attr("data-cancel-url"))}),e("#cancelAllCurrentBuilds").click(function(){var t=[],n=d.find("[data-cancel-url]");e.each(n,function(t,n){var r=e(n).parent().find("[name=cancelselected]");r.prop("checked")&&e.ajax(e(n).attr("data-cancel-url"))})})}};return p={init:function(){d=p.currentBuildsTableInit(e("#rtCurrentBuildsTable")),v=l.table.buildTableInit(e("#rtBuildsTable"),!0);var n=t.defaultRealtimeFunctions();n.current_builds=p.rtfProcessCurrentBuilds,n.recent_builds=p.rtfProcessBuilds,t.initRealtime(n),g.initCancelBuild()},rtfProcessCurrentBuilds:function(e){l.table.rtfGenericTableProcess(d,e)},rtfProcessBuilds:function(e){l.table.rtfGenericTableProcess(v,e)},currentBuildsTableInit:function(t){var n={};return n.oLanguage={sEmptyTable:"No current builds"},n.aoColumns=[{mData:null,sTitle:"Builder",sWidth:"30%"},{mData:null,sTitle:"Current build",sWidth:"30%"},{mData:null,sTitle:"Revision",sWidth:"30%"},{mData:null,sTitle:"Author",sWidth:"5%"},{mData:null,sTitle:h({showInputField:!0,text:"",inputId:"selectAll"}),sWidth:"5%",sClass:"select-input",bSortable:!1}],n.aoColumnDefs=[l.cell.builderName(0,"txt-align-left"),l.cell.buildProgress(1,!0),l.cell.revision(2),{aTargets:[3],sClass:"txt-align-left",mRender:function(t,n,r){var i="N/A";return r.properties!==undefined&&e.each(r.properties,function(e,t){t[0]==="owner"&&(i=t[1])}),i}},l.cell.stopBuild(4)],r.initTable(t,n)}},p});