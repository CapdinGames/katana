define(["helpers"],function(e){var t;return t={init:function(){$(".popup-btn-js-2").click(function(e){e.preventDefault(),t.nonAjaxPopup($(this))}),$(".popup-btn-js").each(function(e){$(this).attr("data-in",e).on("click",function(e){e.preventDefault(),t.pendingJobs($(this))})}),$("#getBtn").click(function(e){e.preventDefault(),t.codebasesBranches()}),$(".ajaxbtn").click(function(e){e.preventDefault(),t.externalContentPopup($(this))})},validateForm:function(e){var t=$(".command_forcebuild",e),n=":button, :hidden, :checkbox, :submit";$(".grey-btn",t).click(function(e){var r=$("input",t).not(n),i=r.filter(function(){return this.name.indexOf("revision")>=0}),s=i.filter(function(){return this.value===""});s.length>0&&s.length<i.length&&(i.each(function(){$(this).val()===""?$(this).addClass("not-valid"):$(this).removeClass("not-valid")}),$(".form-message",t).hide(),$(".error-input",t).length||$(t).prepend('<div class="error-input">Fill out the empty revision fields or clear all before submitting</div>'),e.preventDefault())})},nonAjaxPopup:function(t){var n=t.next($(".more-info-box-js")).clone();n.appendTo($("body")),e.jCenter(n).fadeIn("fast",function(){e.closePopup(n)}),$(window).resize(function(){e.jCenter(n)})},pendingJobs:function(t){var n=t.attr("data-in"),r='<div id="bowlG"><div id="bowl_ringG"><div class="ball_holderG"><div class="ballG"></div></div></div></div>',i=t.attr("data-rt_update");$("body").append(r).show(),$.ajax({url:"",cache:!1,dataType:"html",data:{rt_update:"pending"},success:function(t){$("#bowlG").remove();var r=document.createElement("html");r.innerHTML=t;var i=$(".more-info-box-js",r),s;$(i).each(function(e){e==n&&(s=$(this))}),s.appendTo("body"),e.jCenter(s).fadeIn("fast"),$(window).resize(function(){e.jCenter(s)}),e.closePopup(s)}})},codebasesBranches:function(){var n=$("#pathToCodeBases").attr("href"),r='<div id="bowlG"><div id="bowl_ringG"><div class="ball_holderG"><div class="ballG"></div></div></div></div>';$("body").append(r).show();var i=t.htmlModule("Select branches");$(i).appendTo("body"),$.get(n).done(function(t){var n=$("#content1");$("#bowlG").remove();var r=$(t).find("#formWrapper");$(r).appendTo(n),$("#content .blue-btn").val("update"),$("#content1 .filter-table-input label, #content1 .filter-table-input .help-txt").remove(),e.jCenter(i).fadeIn("fast"),$(window).resize(function(){e.jCenter(i)}),require(["selectors"],function(t){t.comboBox("#formWrapper .select-tools-js"),t.init(),$(window).resize(function(){e.jCenter($(".more-info-box-js"))})}),$("#getForm").attr("action",window.location.href),$('#getForm .blue-btn[type="submit"]').click(function(){$(".more-info-box-js").hide()}),e.closePopup(i)})},customTabs:function(){$(".tabs-list li").click(function(e){var t=$(this).index();$(this).parent().find("li").removeClass("selected"),$(this).addClass("selected"),$(".content-blocks > div").each(function(e){$(this).index()!=t?$(this).hide():$(this).show()})})},externalContentPopup:function(n){var r=n.attr("data-popuptitle"),i=n.attr("data-b"),s=n.attr("data-indexb"),o=n.attr("data-rt_update"),u=n.attr("data-contenttype"),a=$('<div id="bowlG"><div id="bowl_ringG"><div class="ball_holderG"><div class="ballG"></div></div></div></div>');$("body").append(a);var f=t.htmlModule(r);f.appendTo($("body")),$.get("",{rt_update:o,datab:i,dataindexb:s}).done(function(n){var r=$("#content1");a.remove(),$(n).appendTo(r),u==="form"&&(e.setFullName($("#usernameDisabled, #usernameHidden",r)),t.validateForm(r)),e.jCenter(f).fadeIn("fast"),$(window).resize(function(){e.jCenter(f)}),e.closePopup(f)})},htmlModule:function(e){var t=$('<div class="more-info-box remove-js"><span class="close-btn"></span><h3 class="codebases-head">'+e+"</h3>"+'<div id="content1"></div></div>');return t}},t});