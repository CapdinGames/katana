define(["jquery","helpers"],function(e,t){var n;return n={init:function(){e(".popup-btn-js-2").click(function(t){t.preventDefault(),n.nonAjaxPopup(e(this))}),e(".popup-btn-js").each(function(t){e(this).attr("data-in",t).on("click",function(t){t.preventDefault(),n.pendingJobs(e(this))})}),e("#getBtn").click(function(e){e.preventDefault(),n.codebasesBranches()}),e(".ajaxbtn").click(function(t){t.preventDefault(),n.externalContentPopup(e(this))})},validateForm:function(t){var n=e(".command_forcebuild",t),r=":button, :hidden, :checkbox, :submit";e(".grey-btn",n).click(function(t){var i=e("input",n).not(r),s=i.filter(function(){return this.name.indexOf("revision")>=0}),o=s.filter(function(){return this.value===""});o.length>0&&o.length<s.length&&(s.each(function(){e(this).val()===""?e(this).addClass("not-valid"):e(this).removeClass("not-valid")}),e(".form-message",n).hide(),e(".error-input",n).length||e(n).prepend('<div class="error-input">Fill out the empty revision fields or clear all before submitting</div>'),t.preventDefault())})},nonAjaxPopup:function(n){var r=n.next(e(".more-info-box-js")).clone();r.appendTo(e("body")),t.jCenter(r).fadeIn("fast",function(){t.closePopup(r)}),e(window).resize(function(){t.jCenter(r)})},pendingJobs:function(n){var r=n.attr("data-in"),i='<div id="bowlG"><div id="bowl_ringG"><div class="ball_holderG"><div class="ballG"></div></div></div></div>',s=n.attr("data-rt_update");e("body").append(i).show(),e.ajax({url:"",cache:!1,dataType:"html",data:{rt_update:"pending"},success:function(n){e("#bowlG").remove();var i=document.createElement("html");i.innerHTML=n;var s=e(".more-info-box-js",i),o;e(s).each(function(t){t==r&&(o=e(this))}),o.appendTo("body"),t.jCenter(o).fadeIn("fast"),e(window).resize(function(){t.jCenter(o)}),t.closePopup(o)}})},codebasesBranches:function(){var r=e("#pathToCodeBases").attr("href"),i='<div id="bowlG"><div id="bowl_ringG"><div class="ball_holderG"><div class="ballG"></div></div></div></div>';e("body").append(i).show();var s=n.htmlModule("Run custom build");e(s).appendTo("body"),e.get(r).done(function(n){var r=e("#content1");e("#bowlG").remove();var i=e(n).find("#formWrapper");e(i).appendTo(r),e("#content .blue-btn").val("update"),e("#content1 .filter-table-input label, #content1 .filter-table-input .help-txt").remove(),t.jCenter(s).fadeIn("fast"),e(window).resize(function(){t.jCenter(s)}),require(["selectors"],function(n){n.comboBox("#formWrapper .select-tools-js"),n.init(),e(window).resize(function(){t.jCenter(e(".more-info-box-js"))})}),e("#getForm").attr("action",window.location.href),e('#getForm .blue-btn[type="submit"]').click(function(){e(".more-info-box-js").hide()}),t.closePopup(s)})},customTabs:function(){e(".tabs-list li").click(function(t){var n=e(this).index();e(this).parent().find("li").removeClass("selected"),e(this).addClass("selected"),e(".content-blocks > div").each(function(t){e(this).index()!=n?e(this).hide():e(this).show()})})},externalContentPopup:function(r){var i=r.attr("data-popuptitle"),s=r.attr("data-b"),o=r.attr("data-indexb"),u=r.attr("data-rt_update"),a=r.attr("data-contenttype"),f=e('<div id="bowlG"><div id="bowl_ringG"><div class="ball_holderG"><div class="ballG"></div></div></div></div>');e("body").append(f);var l=n.htmlModule(i);l.appendTo(e("body")),e.get("",{rt_update:u,datab:s,dataindexb:o}).done(function(r){var i=e("#content1");f.remove(),e(r).appendTo(i),a==="form"&&(t.setFullName(e("#usernameDisabled, #usernameHidden",i)),n.validateForm(i)),t.jCenter(l).fadeIn("fast"),e(window).resize(function(){t.jCenter(l)}),t.closePopup(l)})},htmlModule:function(t){var n=e('<div class="more-info-box remove-js"><span class="close-btn"></span><h3>'+t+"</h3>"+'<div id="content1"></div></div>');return n}},n});