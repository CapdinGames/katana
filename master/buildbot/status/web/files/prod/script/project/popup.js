define(["jquery"],function(e){var t;return t={init:function(){function t(){var t=e(".form-open"),n=":button, :hidden, :checkbox, :submit";e(".grey-btn",t).click(function(r){var i=e("input",t).not(n),s=i.filter(function(){return this.name.indexOf("revision")>=0}),o=s.filter(function(){return this.value===""});o.length>0&&o.length<s.length&&(s.each(function(){e(this).val()===""?e(this).addClass("not-valid"):e(this).removeClass("not-valid")}),e(".form-message",t).hide(),e(".error-input",t).length||e(t).prepend('<div class="error-input">Fill out the empty revision fields or clear all before submitting</div>'),r.preventDefault())})}jQuery.fn.center=function(){var t=e(window).height(),n=e(window).width(),r=this.outerHeight(),i=this.outerWidth();return this.css("position","absolute"),t<r?this.css("top",(t-r+(r-t)+10)/2+e(window).scrollTop()+"px"):this.css("top",(t-r)/2+e(window).scrollTop()+"px"),this.css("left",(n-i)/2+e(window).scrollLeft()+"px"),this},e(".popup-btn-js").each(function(t){e(this).attr("data-in",t)}),e(".popup-btn-js").click(function(){var t=e(this).attr("data-in"),n='<div id="bowlG"><div id="bowl_ringG"><div class="ball_holderG"><div class="ballG"></div></div></div></div>';e("body").append(n).show(),e.ajax({url:"",cache:!1,dataType:"html",data:{rt_update:"pending"},success:function(n){e("#bowlG").remove();var r=document.createElement("html");r.innerHTML=n;var i=e(".more-info-box-js",r),s;e(i).each(function(n){n==t&&(s=e(this))}),e(s).appendTo("body").center().fadeIn("fast"),e(window).resize(function(){e(s).center()}),e(document,".close-btn").bind("click touchstart",function(t){(!e(t.target).closest(".more-info-box-js").length||e(t.target).closest(".close-btn").length)&&e(s).remove()})}})}),e("#getBtn").click(function(){e(".more-info-box-js").hide(),e("#content").empty();var t=e("#pathToCodeBases").attr("href"),n='<div id="bowlG"><div id="bowl_ringG"><div class="ball_holderG"><div class="ballG"></div></div></div></div>';e("body").append(n).show();var r=e('<div class="more-info-box more-info-box-js"><span class="close-btn"></span><h3>Codebases</h3><div id="content"></div></div>');e(r).appendTo("body"),e.get(t).done(function(t){e("#bowlG").remove();var n=e(t).find("#formWrapper");e(n).appendTo(e("#content")),e("#content .filter-table-input").remove(),e(r).center().fadeIn("fast"),e(window).resize(function(){e(r).center()}),require(["selectors"],function(t){t.comboBox("#formWrapper .select-tools-js"),e("#formWrapper .select-tools-js").select2({width:t.getMaxChildWidth(".select-tools-js")}),e("#formWrapper #commonBranch_select").select2({placeholder:"Common branches"}),e(".select2-drop").bind("click touchstart",function(t){t.stopPropagation(),e(this).unbind(t)}),t.clickSort("#select2-drop .select2-results"),e(window).resize(function(){e(".more-info-box-js").center()})}),e("#getForm").attr("action",window.location.href),e('#getForm .grey-btn[type="submit"]').click(function(){e(".more-info-box-js").hide()}),e(document,".close-btn").bind("click touchstart",function(t){(!e(t.target).closest(".more-info-box-js").length||e(t.target).closest(".close-btn").length)&&e(r).remove()})})}),e(".ajaxbtn").click(function(t){t.preventDefault();var n=e(this).attr("data-b"),r=e(this).attr("data-indexb"),i='<div id="bowlG"><div id="bowl_ringG"><div class="ball_holderG"><div class="ballG"></div></div></div></div>';e("body").append(i).show();var s=e('<div class="more-info-box remove-js"><span class="close-btn"></span><h3>Run custom build</h3><div id="content1"></div></div>');e(s).appendTo("body"),e.get("",{rt_update:"extforms",datab:n,dataindexb:r}).done(function(t){e("#bowlG").remove(),e(t).appendTo(e("#content1")),e(s).center().fadeIn("fast"),e(window).resize(function(){e(s).center()}),e(document,".close-btn").bind("click touchstart",function(t){if(!e(t.target).closest(s).length||e(t.target).closest(".close-btn").length)e(s).remove(),e(this).unbind(t)})})})}},t});