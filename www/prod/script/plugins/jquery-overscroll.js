!function(e,t,r,o,l,i,n,a,c){function s(e,t){t.trigger("overscroll:"+e)}function u(){return(new Date).getTime()}function d(e,t,r){return t.x=e.pageX,t.y=e.pageY,t.time=u(),t.index=r,t}function h(e,t,r,o){var l,i;e&&e.added&&(e.horizontal&&(l=r*(1+t.container.width/t.container.scrollWidth),i=o+t.thumbs.horizontal.top,e.horizontal.css("margin",i+"px 0 0 "+l+"px")),e.vertical&&(l=r+t.thumbs.vertical.left,i=o*(1+t.container.height/t.container.scrollHeight),e.vertical.css("margin",i+"px 0 0 "+l+"px")))}function g(e,t,r){e&&e.added&&!t.persistThumbs&&(r?(e.vertical&&e.vertical.stop(!0,!0).fadeTo("fast",X.thumbOpacity),e.horizontal&&e.horizontal.stop(!0,!0).fadeTo("fast",X.thumbOpacity)):(e.vertical&&e.vertical.fadeTo("fast",0),e.horizontal&&e.horizontal.fadeTo("fast",0)))}function f(e){var t,r="events",o=a._data?a._data(e[0],r):e.data(r);o&&o.click&&(t=o.click.slice(),e.off("click").one("click",function(){return a.each(t,function(t,r){e.click(r)}),!1}))}function m(e){var t=e.data,r=t.thumbs,o=t.options,l="mouseenter"===e.type;g(r,o,l)}function p(e){var t=e.data;t.flags.dragged||h(t.thumbs,t.sizing,this.scrollLeft,this.scrollTop)}function v(e){e.preventDefault();var t=e.data,r=t.options,o=t.sizing,n=t.thumbs,a=t.wheel,c=t.flags,s=e.originalEvent,u=0,d=0,f=0;c.drifting=!1,s.detail?(u=-s.detail,s.detailX&&(d=-s.detailX),s.detailY&&(f=-s.detailY)):s.wheelDelta&&(u=s.wheelDelta/X.wheelTicks,s.wheelDeltaX&&(d=s.wheelDeltaX/X.wheelTicks),s.wheelDeltaY&&(f=s.wheelDeltaY/X.wheelTicks)),u*=r.wheelDelta,d*=r.wheelDelta,f*=r.wheelDelta,a||(t.target.data(q).dragging=c.dragging=!0,t.wheel=a={timeout:null},g(n,r,!0)),"vertical"===r.wheelDirection?this.scrollTop-=u:"horizontal"===r.wheelDirection?this.scrollLeft-=u:(this.scrollLeft-=d,this.scrollTop-=f||u),a.timeout&&i(a.timeout),h(n,o,this.scrollLeft,this.scrollTop),a.timeout=l(function(){t.target.data(q).dragging=c.dragging=!1,g(n,r,t.wheel=null)},X.thumbTimeout)}function b(e){e.preventDefault();var t=e.data,r=e.originalEvent.touches,o=t.options,l=t.sizing,i=t.thumbs,n=t.position,a=t.flags,c=t.target.get(0);r&&r.length&&(e=r[0]),a.dragged||g(i,o,!0),a.dragged=!0,"vertical"!==o.direction&&(c.scrollLeft-=e.pageX-n.x),"horizontal"!==t.options.direction&&(c.scrollTop-=e.pageY-n.y),d(e,t.position),--t.capture.index<=0&&(t.target.data(q).dragging=a.dragging=!0,d(e,t.capture,X.captureThreshold)),h(i,l,c.scrollLeft,c.scrollTop)}function w(e,t,r){var o,l,i,n,a=t.data,c=a.capture,d=a.options,g=a.sizing,f=a.thumbs,m=u()-c.time,p=e.scrollLeft,v=e.scrollTop,b=X.driftDecay;return m>X.driftTimeout?void r(a):(o=d.scrollDelta*(t.pageX-c.x),l=d.scrollDelta*(t.pageY-c.y),"vertical"!==d.direction&&(p-=o),"horizontal"!==d.direction&&(v-=l),i=o/X.driftSequences,n=l/X.driftSequences,s("driftstart",a.target),a.drifting=!0,void E.animate(function w(){if(a.drifting){var t=1,o=-1;a.drifting=!1,(n>t&&e.scrollTop>v||o>n&&e.scrollTop<v)&&(a.drifting=!0,e.scrollTop-=n,n/=b),(i>t&&e.scrollLeft>p||o>i&&e.scrollLeft<p)&&(a.drifting=!0,e.scrollLeft-=i,i/=b),h(f,g,e.scrollLeft,e.scrollTop),E.animate(w)}else s("driftend",a.target),r(a)}))}function T(e){var t=e.data,r=e.originalEvent.touches,o=t.target,l=t.start=a(e.target),i=t.flags;i.drifting=!1,l.size()&&!l.is(t.options.cancelOn)&&(r||e.preventDefault(),E.overflowScrolling||(o.css("cursor",E.cursor.grabbing),o.data(q).dragging=i.dragging=i.dragged=!1,t.options.dragHold?a(document).on(W.drag,t,b):o.on(W.drag,t,b)),t.position=d(e,{}),t.capture=d(e,{},X.captureThreshold),s("dragstart",o))}function D(e){var t=e.data,r=t.target,o=t.options,l=t.flags,i=t.thumbs,n=function(){i&&!o.hoverThumbs&&g(i,o,!1)};o.dragHold?a(document).unbind(W.drag,b):r.unbind(W.drag,b),t.position&&(s("dragend",r),l.dragging&&!E.overflowScrolling?w(r.get(0),e,n):n()),l.dragging&&!E.overflowScrolling&&t.start&&t.start.is(e.target)&&f(t.start),r.data(q).dragging=t.start=t.capture=t.position=l.dragged=l.dragging=!1,r.css("cursor",E.cursor.grab)}function y(e){return e=a.extend({},Y,e),"multi"!==e.direction&&e.direction!==e.wheelDirection&&(e.wheelDirection=e.direction),e.scrollDelta=o.abs(parseFloat(e.scrollDelta)),e.wheelDelta=o.abs(parseFloat(e.wheelDelta)),e.scrollLeft=e.scrollLeft===c?null:o.abs(parseFloat(e.scrollLeft)),e.scrollTop=e.scrollTop===c?null:o.abs(parseFloat(e.scrollTop)),e}function z(e){var t=a(e),r=t.width(),o=t.height(),l=r>=e.scrollWidth?r:e.scrollWidth,i=o>=e.scrollHeight?o:e.scrollHeight,n=l>r||i>o;return{valid:n,container:{width:r,height:o,scrollWidth:l,scrollHeight:i},thumbs:{horizontal:{width:r*r/l,height:X.thumbThickness,corner:X.thumbThickness/2,left:0,top:o-X.thumbThickness},vertical:{width:X.thumbThickness,height:o*o/i,corner:X.thumbThickness/2,left:r-X.thumbThickness,top:0}}}}function S(e,t){var r,o=a(e),l=o.data(q)||{},i=o.attr("style"),n=t?function(){l=o.data(q),r=l.thumbs,i?o.attr("style",i):o.removeAttr("style"),r&&(r.horizontal&&r.horizontal.remove(),r.vertical&&r.vertical.remove()),o.removeData(q).off(W.wheel,v).off(W.start,T).off(W.end,D).off(W.ignored,L)}:a.noop;return a.isFunction(l.remover)?l.remover:n}function k(e,t){return{position:"absolute",opacity:t.persistThumbs?X.thumbOpacity:0,"background-color":"black",width:e.width+"px",height:e.height+"px","border-radius":e.corner+"px",margin:e.top+"px 0 0 "+e.left+"px","z-index":t.zIndex}}function x(e,t,r){var o="<div/>",l={},i=!1;return t.container.scrollWidth>0&&"vertical"!==r.direction&&(i=k(t.thumbs.horizontal,r),l.horizontal=a(o).css(i).prependTo(e)),t.container.scrollHeight>0&&"horizontal"!==r.direction&&(i=k(t.thumbs.vertical,r),l.vertical=a(o).css(i).prependTo(e)),l.added=!!i,l}function L(e){e.preventDefault()}function F(e,t){t=y(t);var r,o=z(e),l={options:t,sizing:o,flags:{dragging:!1},remover:S(e,!0)};(o.valid||t.ignoreSizing)&&(l.target=e=a(e).css({position:"relative",cursor:E.cursor.grab}).on(W.start,l,T).on(W.end,l,D).on(W.ignored,l,L),t.dragHold?a(document).on(W.end,l,D):l.target.on(W.end,l,D),null!==t.scrollLeft&&e.scrollLeft(t.scrollLeft),null!==t.scrollTop&&e.scrollTop(t.scrollTop),E.overflowScrolling?e.css(E.overflowScrolling,"touch"):e.on(W.scroll,l,p),t.captureWheel&&e.on(W.wheel,l,v),t.showThumbs?E.overflowScrolling?e.css("overflow","scroll"):(e.css("overflow","hidden"),l.thumbs=r=x(e,o,t),r.added&&(h(r,o,e.scrollLeft(),e.scrollTop()),t.hoverThumbs&&e.on(W.hover,l,m))):e.css("overflow","hidden"),e.data(q,l))}function O(e){S(e)()}function C(e){return this.removeOverscroll().each(function(){F(this,e)})}function H(){return this.each(function(){O(this)})}var q="overscroll";null===t.body&&t.documentElement.appendChild(t.createElement("body")),e.getComputedStyle||(e.getComputedStyle=function(e){return this.el=e,this.getPropertyValue=function(t){var r=/(\-([a-z]){1})/g;return"float"==t&&(t="styleFloat"),r.test(t)&&(t=t.replace(r,function(){return arguments[2].toUpperCase()})),e.currentStyle[t]?e.currentStyle[t]:null},this});var E={animate:function(){var t=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){l(e,1e3/60)};return function(r){t.call(e,r)}}(),overflowScrolling:function(){var r="",o=t.createElement("div"),l=["webkit","moz","o","ms"];t.body.appendChild(o),a.each(l,function(e,t){o.style[t+"OverflowScrolling"]="touch"}),o.style.overflowScrolling="touch";var i=e.getComputedStyle(o);return i.overflowScrolling?r="overflow-scrolling":a.each(l,function(e,t){return i[t+"OverflowScrolling"]&&(r="-"+t+"-overflow-scrolling"),!r}),o.parentNode.removeChild(o),r}(),cursor:function(){var r=t.createElement("div"),o=["webkit","moz"],l="https://mail.google.com/mail/images/2/",i={grab:"url("+l+"openhand.cur), move",grabbing:"url("+l+"closedhand.cur), move"};return t.body.appendChild(r),a.each(o,function(t,o){var l,n="-"+o+"-grab";r.style.cursor=n;var a=e.getComputedStyle(r);return l=a.cursor===n,l&&(i={grab:"-"+o+"-grab",grabbing:"-"+o+"-grabbing"}),!l}),r.parentNode.removeChild(r),i}()},W={drag:"mousemove touchmove",end:"mouseup mouseleave click touchend touchcancel",hover:"mouseenter mouseleave",ignored:"select dragstart drag",scroll:"scroll",start:"mousedown touchstart",wheel:"mousewheel DOMMouseScroll"},X={captureThreshold:3,driftDecay:1.1,driftSequences:22,driftTimeout:100,scrollDelta:15,thumbOpacity:.7,thumbThickness:6,thumbTimeout:400,wheelDelta:20,wheelTicks:120},Y={cancelOn:"select,input,textarea",direction:"multi",dragHold:!1,hoverThumbs:!1,scrollDelta:X.scrollDelta,showThumbs:!0,persistThumbs:!1,captureWheel:!0,wheelDelta:X.wheelDelta,wheelDirection:"multi",zIndex:999,ignoreSizing:!1};C.settings=X,a.extend(n,{overscroll:C,removeOverscroll:H})}(window,document,navigator,Math,setTimeout,clearTimeout,jQuery.fn,jQuery);
//# sourceMappingURL=jquery-overscroll.js.map