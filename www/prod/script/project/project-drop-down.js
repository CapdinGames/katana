define(["jquery","screensize","helpers"],function(n,o){var i,e='<div id="bowlG"><div id="bowl_ringG"><div class="ball_holderG"><div class="ballG"></div></div></div></div>';return function(n){n.fn.dropdown=function(o){var i,e=n(this),t=n.extend({},n.fn.dropdown.defaults,o),d=!1;e.settings=t;var r={init:function(){r.setupClick()},setupClick:function(){e.click(function(){void 0===i?r.createHTML()&&(t.onCreate(e,i),r.showDropdown()):d||r.showDropdown()})},createHTML:function(){return void 0===i?(t.beforeCreate(e),i=n("<div/>").addClass("more-info-box").append("<span class='close-btn'></span>").append(t.title).hide(),t.url?(n.ajax(t.url).done(function(n){t.onResponse(e,i,n)||e.append(n),e.append(i),t.onCreate(e,i),r.showDropdown()}),!1):(e.append(i),i.append(n("<div/>").html(t.html)),!0)):!0},showDropdown:function(){if(t.beforeShow(e,i),t.animate!==!1||n.isFunction(t.animate)){var o=function(){r.initCloseButton(),t.onShow(e,i),d=!0};n.isFunction(t.animate)&&t.animate()?o():i.slideDown(t.showAnimation,o)}else d=!0,i.show(),t.onShow(e,i),setTimeout(function(){r.initCloseButton()},50)},hideDropdown:function(){n(document).unbind("click.dropdown touchstart.dropdown"),n.isFunction(t.animate)&&t.animate()||!n.isFunction(t.animate)&&t.animate?i.slideUp(t.hideAnimation,function(){i.hide(),d=!1,t.onHide(e,i)}):(d=!1,i.hide(),t.onHide(e,i))},initCloseButton:function(){n(document).on("click.dropdown touchstart.dropdown",function(o){(!i.is(o.target)&&0===i.has(o.target).length||i.find(".close-btn").is(o.target))&&(d&&r.hideDropdown(),n(this).unbind(o))})}};return e.showDropdown=function(){r.showDropdown()},e.hideDropdown=function(){r.hideDropdown()},e.options=function(o){t=n.extend({},n.fn.dropdown.defaults,t,o)},e.each(function(){r.init(),t.initalized=!0})},n.fn.dropdown.defaults={title:"<h3>Builders shortcut</h3>",html:void 0,url:void 0,animate:!0,showAnimation:"fast",hideAnimation:"fast",beforeCreate:function(){return void 0},onCreate:function(){return void 0},onResponse:function(){return!1},beforeShow:function(){return void 0},onShow:function(){return void 0},onHide:function(){return void 0}}}(jQuery),i={init:function(){var i,t;n("#projectDropdown").dropdown({url:"/projects",beforeCreate:function(){n("body").append(e).show()},onCreate:function(o){n("#bowlG").remove(),n(window).on("resize.dropdown",function(){o.hideDropdown()})},onResponse:function(o,e,d){if(void 0===t||void 0===i){t=n(d).find(".tablesorter-js");var r=n(d).find(".scLink");i=n("<ul/>").addClass("submenu list-unstyled"),n(r).each(function(){var o=n(this).attr("data-sc");n(this).attr("href",o);var e=n("<li/>").append(n(this));i.append(e)}),n(t,i).find("a").each(function(){var o=n(this).attr("data-sc");n(this).attr("href",o)})}return!0},beforeShow:function(n,e){o.isMediumScreen()?e.append(t):n.append(i)},onShow:function(n,i){o.isMediumScreen()||i.hide()},onHide:function(n){n.find("ul").remove()},animate:function(){return o.isMediumScreen()}}),n(".smartphone-nav").click(function(){var o=n(".top-menu");o.is(":hidden")?o.addClass("show-topmenu"):o.removeClass("show-topmenu")}),n(window).on("resize.mobile",function(){n(".top-menu").removeClass("show-topmenu")})}}});
//# sourceMappingURL=project-drop-down.js.map