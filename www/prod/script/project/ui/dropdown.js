define(["jquery","screensize"],function(n,o){return function(n){n.fn.dropdown=function(o){var e,t=n(this),i=n.extend({},n.fn.dropdown.defaults,o),r=!1;t.settings=i;var d={init:function(){d.setupClick()},setupClick:function(){t.click(function(){void 0===e?d.createHTML()&&(i.onCreate(t,e),d.showDropdown()):r||d.showDropdown()})},createHTML:function(){return void 0===e?(i.beforeCreate(t),e=n("<div/>").addClass("more-info-box").append("<span class='close-btn'></span>").append(i.title).hide(),i.url?(n.ajax(i.url).done(function(n){i.onResponse(t,e,n)||t.append(n),t.append(e),i.onCreate(t,e),d.showDropdown()}),!1):(t.append(e),e.append(n("<div/>").html(i.html)),!0)):!0},showDropdown:function(){if(i.beforeShow(t,e),i.animate!==!1||n.isFunction(i.animate)){var o=function(){d.initCloseButton(),i.onShow(t,e),r=!0};n.isFunction(i.animate)&&i.animate()?e.slideDown(i.showAnimation,o):(e.show(),o())}else r=!0,e.show(),i.onShow(t,e),setTimeout(function(){d.initCloseButton()},50)},hideDropdown:function(){n(document).off("click.katana.dropdown touchstart.katana.dropdown"),n.isFunction(i.animate)&&i.animate()||!n.isFunction(i.animate)&&i.animate?e.slideUp(i.hideAnimation,function(){e.hide(),r=!1,i.onHide(t,e)}):(r=!1,e.hide(),i.onHide(t,e))},initCloseButton:function(){n(document).on("click.katana.dropdown touchstart.katana.dropdown",function(o){(!e.is(o.target)&&0===e.has(o.target).length||e.find(".close-btn").is(o.target))&&(r&&d.hideDropdown(),n(this).off(o))})}};return t.showDropdown=function(){d.showDropdown()},t.hideDropdown=function(){d.hideDropdown()},t.options=function(o){i=n.extend({},n.fn.dropdown.defaults,i,o)},t.each(function(){d.init(),i.initalized=!0})},n.fn.dropdown.defaults={title:"<h3>Builders shortcut</h3>",html:void 0,url:void 0,animate:!0,showAnimation:"fast",hideAnimation:"fast",beforeCreate:function(){return void 0},onCreate:function(){return void 0},onResponse:function(){return!1},beforeShow:function(){return void 0},onShow:function(){return void 0},onHide:function(){return void 0}}}(jQuery),{init:function(){var e,t;n("#projectDropdown").dropdown({url:"/projects",beforeCreate:function(){n("#preloader").preloader("showPreloader")},onCreate:function(o){n("#preloader").preloader("hidePreloader"),n(window).on("resize.dropdown",function(){o.hideDropdown()})},onResponse:function(o,i,r){if(void 0===t||void 0===e){t=n(r).find(".tablesorter-js");var d=n(r).find(".scLink");e=n("<ul/>").addClass("submenu list-unstyled"),n(d).each(function(){var o=n(this).attr("data-sc");n(this).attr("href",o);var t=n("<li/>").append(n(this));e.append(t)}),n(t,e).find("a").each(function(){var o=n(this).attr("data-sc");n(this).attr("href",o)})}return!0},beforeShow:function(n,i){o.isMediumScreen()?i.append(t):n.append(e)},onShow:function(n,e){o.isMediumScreen()||e.hide()},onHide:function(n){n.find("ul").remove()},animate:function(){return o.isMediumScreen()}}),n(".smartphone-nav").click(function(){var o=n(".top-menu");o.is(":hidden")?o.addClass("show-topmenu"):o.removeClass("show-topmenu")}),n(window).on("resize.mobile",function(){n(".top-menu").removeClass("show-topmenu")})}}});
//# sourceMappingURL=dropdown.js.map